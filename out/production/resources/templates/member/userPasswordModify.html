<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/basic}">
<th:block layout:fragment="content">
  <div class="container-fluid">
    <div class="content_box">
      <h2 class="tit text-center mb-4">회원 정보 찾기</h2>

      <!-- start : tab -->
      <ul class="nav nav-tabs">
        <li class="nav-item" >
          <a th:href="@{/member/userId}" class="nav-link" aria-selected="false">아이디 찾기</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" aria-selected="true">비밀번호 찾기</a>
        </li>
      </ul>
      <!-- end : tab -->
      <!-- start : tab content-->
      <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="home-tab-pane" role="tabpanel" aria-labelledby="home-tab" tabindex="0">
          <div th:object="${userTravel}">
            <!--th:action="@{/userIdCheck}"-->
            <form id="userModify" th:action="@{/member/userModify}" method="post">
              <input th:field="*{password}" id="password" name="password" type="hidden" />
              <table>
                <colgroup>
                  <col style="width:120px">
                  <col style="width:calc(100% - 120px)">
                </colgroup>
                <tbody>
                <tr>
                  <th>
                    <label>
                      이름
                    </label>
                  </th>
                  <td>
                    <input th:field="*{name}" th:id="*{name}" th:name="*{name}" th:value="*{name}" type="text" class="form-control mail-check-input" readonly />
                  </td>
                </tr>
                <tr>
                  <th>
                    <label>
                      아이디
                    </label>
                  </th>
                  <td>
                    <input th:field="*{userId}" th:id="*{userId}" th:name="*{userId}" th:value="*{userId}" type="text" class="form-control mail-check-input" readonly />
                  </td>
                </tr>
                <tr>
                  <th>
                    <label>
                     이메일
                    </label>
                  </th>
                  <td>
                    <input th:field="*{userEmail}" th:id="*{userEmail}" th:name="*{userEmail}" th:value="*{userEmail}" type="email" class="form-control mail-check-input" readonly />
                  </td>
                </tr>
                <tr>
                  <th>
                    <label for="password-1">
                      비밀번호
                    </label>
                  </th>
                  <td>
                    <input id="password-1" name="password-1" type="password" class="form-control mail-check-input"/>
                  </td>
                </tr>
                <tr>
                  <th>
                    <label for="password-2">
                      비밀번호 확인
                    </label>
                  </th>
                  <td>
                    <input id="password-2" name="password-2" type="password" class="form-control mail-check-input"/>
                  </td>
                </tr>
                </tbody>
              </table>
              <a id="userCheckBtn"  class="btn btn-primary btn-lg w-100 mt-3" type="button">확인</a>
            </form>
          </div>
        </div>
      </div>
      <!--end :  tab content-->
      <div class=" pt-4 pb-4 mt-2 text-center border-top">
        <a th:href="@{/loginForm}">로그인</a> |
        <a th:href="@{/join}">회원가입</a>
      </div>
    </div>
  </div>
  <script>
    $(function(){

        $("#userCheckBtn").on('click',function (){
           let pw1 = $("#password-1").val();
           let pw2 = $("#password-2").val();
           let pw = $("#password")
           if (pw1 == pw2){
               console.log("패스워드가 일치합니다.");
               pw.val(pw1);
               $("#userModify").submit();
           }else{
               alert("비밀번호가 다릅니다.")
           }

        });
    })
  </script>



</th:block>
</html>