<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layout/basic}">
<th:block layout:fragment="content">


    <div class="content_nav">
      <!-- start : navbar -->
      <th:block th:replace="layout/navBar::navBar"></th:block>
      <!-- end : navbar -->
      <!-- start : content -->
      <div class="content" th:object="${userTravel}">
        <h2 class="tit text-center mb-5">마이페이지</h2>
        <div class="content-tit">
          <h4 class="tit_con mb-3">회원탈퇴</h4>
        </div>
        <p>안녕하세요 . 회원탈퇴 하시겠습니까? <br />
          회원탈퇴 후  Travel Road의 서비스는 이용이 불가합니다.</p>

        <form id="userModifyForm" class="mt-5" th:action="@{/mypage/withdrawalForm}" th:method="post" >
          <div class="border rounded-3 p-3 ">
            <table>
            <colgroup>
              <col style="width:100px">
              <col style="width:calc(100% - 100px)">
            </colgroup>
            <tbody>
            <tr>
              <th>
                <label for="userId">
                  아이디
                </label>
              </th>
              <td>
                <div class="x_auto">
                  <input th:field="*{userId}"  name="userId" id="userId" type="text" class="form-control" th:value="*{userId}" readonly>
                </div>
                <p class="check-msg-id txt_info mt-1"></p>
              </td>
            </tr>
            <tr>
              <th><label for="password" >비밀번호 </label></th>
              <td>
                <input th:field="*{password}" name="password" id="password" placeholder="비밀번호를 입력해주세요." class="form-control" type="password">
              </td>
            </tr>
            </tbody>
          </table>
          </div>
          <button class="w-100 btn btn-primary mt-4" type="submit">회원탈퇴</button>
        </form>
      </div>
    </div>
    <!-- end : mypage_wrap-->
    <!-- Modal -->
    <script type="text/javascript" th:if="${msg}">
        $(document).ready(function (){
            $('#modalJoin').modal("show");
        })
    </script>

    <div class="modal fade" id="modalJoin" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5">메시지</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="modal-message">
              <p th:text="${msg}"></p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- End: Modal -->

</th:block>
</html>

